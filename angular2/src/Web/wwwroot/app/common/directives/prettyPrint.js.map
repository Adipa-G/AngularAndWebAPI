{"version":3,"sources":["../../src/app/common/directives/prettyPrint.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;YAOa,WAAW;gBAAxB;gBA2CA,CAAC;gBArCG,iCAAW,GAAX,UAAY,OAAO;oBACf,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;wBAClB,MAAM,CAAC;oBACX,CAAC;oBAED,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,gBAAgB,EAAE,gBAAgB,CAAC,CAAC;oBAE1E,IAAI,CAAC;wBAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,KAAK,MAAM,CAAC,CAAC,CAAC;4BACvD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;wBAC3E,CAAC;oBACL,CAAC;oBAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBACV,IAAI,CAAC;4BACD,IAAI,MAAM,GAAG,EAAE,CAAC;4BAChB,IAAI,KAAK,GAAG,CAAC,CAAC;4BAEd,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gCACvC,IAAI,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;gCACtB,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oCAC/B,KAAK,EAAE,CAAC;gCACZ,CAAC;gCACD,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oCAC/B,KAAK,EAAE,CAAC;gCACZ,CAAC;gCACD,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oCAC9C,MAAM,IAAI,IAAI,CAAC;oCACf,MAAM,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gCAChC,CAAC;gCACD,MAAM,IAAI,GAAG,CAAC;4BAClB,CAAC;4BACD,IAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC;wBACpC,CAAC;wBAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;4BACV,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;wBACtC,CAAC;oBACL,CAAC;gBACL,CAAC;gBACL,kBAAC;YAAD,CA3CA,AA2CC,IAAA;YA1C0B;gBAAtB,YAAK,CAAC,cAAc,CAAC;;0DAAmB;YACxB;gBAAhB,YAAK,CAAC,QAAQ,CAAC;;uDAAgB;YAFvB,WAAW;gBALvB,gBAAS,CAAC;oBACP,QAAQ,EAAE,gBAAgB;oBAC1B,QAAQ,EAAE,kCAAkC;iBAC/C,CAAC;eAEW,WAAW,CA2CvB;;QAAA,CAAC","file":"prettyPrint.js","sourcesContent":["import { Component, OnChanges, Input, Inject } from '@angular/core';\r\n\r\n@Component({\r\n    selector: '[pretty-print]',\r\n    template: '<pre>{{prettyPrintOutput}}</pre>'\r\n})\r\n\r\nexport class PrettyPrint implements OnChanges {\r\n    @Input('pretty-print') sourceStr: string;\r\n    @Input('format') format: string;\r\n\r\n    private prettyPrintOutput: string;\r\n\r\n    ngOnChanges(changes) {\r\n        if (!this.sourceStr) {\r\n            return;\r\n        }\r\n\r\n        var fixedStr = this.sourceStr.replace(/Bearer [^\\s]*/g, \"Bearer (token)\");\r\n\r\n        try {\r\n\r\n            if (!this.format || this.format.toLowerCase() === 'json') {\r\n                this.prettyPrintOutput = JSON.stringify(JSON.parse(fixedStr), null, 2);\r\n            }\r\n        } catch (e1) {\r\n            try {\r\n                var result = '';\r\n                var level = 0;\r\n\r\n                for (var i = 0; i < fixedStr.length; i++) {\r\n                    var chr = fixedStr[i];\r\n                    if (['{', '['].indexOf(chr) >= 0) {\r\n                        level++;\r\n                    }\r\n                    if (['}', ']'].indexOf(chr) >= 0) {\r\n                        level--;\r\n                    }\r\n                    if (['{', '}', '[', ']', ','].indexOf(chr) >= 0) {\r\n                        result += '\\n';\r\n                        result += ' '.repeat(level);\r\n                    }\r\n                    result += chr;\r\n                }\r\n                this.prettyPrintOutput = result;\r\n            } catch (e2) {\r\n                this.prettyPrintOutput = fixedStr;\r\n            }\r\n        }\r\n    }\r\n}"],"sourceRoot":"/src"}