"use strict";!function(){var e=angular.module("ngFormValidator",[]);e.directive("validator",function(){function e(e,a){return e.toLowerCase()===a.toLowerCase()||e.toLowerCase()===a.split("-").join("").toLowerCase()}function a(a,r){if(!a)return null;for(var n in a)if(e(n,r))return a[n];return null}function r(a,r){var n=a.attributes;if(!n)return null;for(var t=0;t<n.length;t++){var s=n[t];if(s.name&&e(s.name,r))return n[s.name];if(s.id&&e(s.id,r))return n[s.id]}return null}function n(e,n,t){var s=a(n,"v-input"),l=null;for(var i in t)if(s)s===i&&(l=t[i]);else for(var u=angular.element(e).contents(),o=0;o<u.length;o++){var v=u[o],m=r(v,"name");m&&i===m.nodeValue&&(l=t[i])}return l}function t(e,r,n,t,s,l){var i=a(s,e);if(!i&&n.validator){var u=a(n.validator,t.$name);u&&(i=a(u,r)),i||(i=a(n.validator,r))}return i||(i=l),i}function s(e,a,r){return{successStyle:t("v-style-success","successStyle",e,a,r,"has-success has-feedback"),errorStyle:t("v-style-error","errorStyle",e,a,r,"has-error has-feedback"),errorMessageStyle:t("v-style-error-message","errorMessageStyle",e,a,r,"bg-danger")}}function l(e){for(var a=[],r=/([^\[\],]*)(\[([^\[\]]*\])|\[([\'\"](.)*[\'\"])*\])?([,]?)/g,n=r.exec(e);null!==n&&n[0];){var t={type:n[1].toLowerCase(),params:[]};if(n[2])for(var s=n[2].replace("[","").replace("]","").split(","),l=0;l<s.length;l++){var i=s[l].trim();i&&t.params.push({name:i,value:null})}a.push(t),n=r.exec(e)}return a}function i(e,a,r){for(var n=l(r),t=0;t<n.length;t++)for(var s=n[t],i=0;i<s.params.length;i++){var u=s.params[i];"'"!==u.name.charAt(0)&&'"'!==u.name.charAt(0)&&e.$watch(u.name,function(e,r){e!==r&&a.$validate()})}}function u(e,a){for(var r=l(a),n=0;n<r.length;n++){for(var t=r[n],s=0;s<t.params.length;s++){var i=t.params[s];"'"!==i.name.charAt(0)&&'"'!==i.name.charAt(0)?i.value=e.$eval(i.name):i.value=i.name.replace(/\"/g,"").replace(/\'/g,"")}t.params.length>0&&"boolean"==typeof t.params[0].value?(t.enabled=t.params[0].value,t.params.splice(0,1)):t.enabled=!0}return r}function o(e,a){var r=1===a.length?a[0].value:"This field is required";return e?{valid:!0,message:""}:{valid:!1,message:r}}function v(e,a){if(!a)return{valid:!0,message:""};e||(e="");var r=parseInt(a[0].value),n=a.length>0?parseInt(a[1].value):INT.MAX_VALUE,t=(isNaN(r)||!isNaN(r)&&e.length>=r)&&(isNaN(n)||!isNaN(n)&&e.length<=n),s=a.length>2&&!t?a[2].value:"";return s||t||(s="This field should be ",isNaN(r)||(s+=" minimum length of "+r,isNaN(n)||(s+=" and ")),isNaN(n)||(s+=" maximum length of "+n)),{valid:t,message:s}}function m(e,a){if(!a)return{valid:!0,message:""};e||(e="");var r=parseInt(a[0].value),n=a.length>0?parseInt(a[1].value):INT.MAX_VALUE,t=Number(e),s=!isNaN(t)&&(isNaN(r)||!isNaN(r)&&t>=r)&&(isNaN(n)||!isNaN(n)&&n>=t),l=a.length>2&&!s?a[2].value:"";return l||s||(l="This field should be a number with ",isNaN(r)||(l+=" minimum of "+r,isNaN(n)||(l+=" and ")),isNaN(n)||(l+=" maximum of "+n)),{valid:s,message:l}}function c(e,a){if(!a)return{valid:!0,message:""};e||(e="");var r=new RegExp(a[0].value,"gi"),n=r.test(e),t=a.length>1&&!n?a[1].value:"";return t||n||(t="This field should be a of pattern "+a[0].value),{valid:n,message:t}}function f(e,a){e||(e="");var r=a.length>0?a[0].value:"Please enter an email address";return c(e,[{value:'^(([^<>()[\\]\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\"]+)*)|(\\".+\\"))@(([^<>()[\\]\\.,;:\\s@\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\"]{2,})$'},{value:r}])}function d(e,a){e||(e="");var r=a.length>0?a[0].value:"Please enter a URL";return c(e,[{value:"(http|ftp|https)://[\\w-]+(\\.[\\w-]+)+([\\w.,@?^=%&amp;:/~+#-]*[\\w@?^=%&amp;/~+#-])?"},{value:r}])}function g(e,a,r){if(!a||0===a.length)return{valid:!0,message:""};e||(e="");var n=a[0].value,t=r[n],s="";t&&(s=t.$modelValue||t.$viewValue);var l=a.length>1?a[1].value:"The value of this field should be equal to "+n;return{valid:s===e,message:l}}function h(e,a,r){if(!r||0===r.length)return{valid:!0,message:""};a||(a="");var n=r[0].value;return e[n](a)}function p(e,a){if(e.classList)for(var r=a.split(" "),n=0;n<r.length;n++){var t=r[n];e.classList.contains(t)&&e.classList.remove(t)}}function N(e,a){e.classList||(e.classList={});for(var r=a.split(" "),n=0;n<r.length;n++){var t=r[n];e.classList.contains(t)||e.classList.add(t)}}function b(e,a,r){p(e,a.successStyle),p(e,a.errorStyle),r.validationCount>0&&N(e,r.valid?a.successStyle:a.errorStyle)}function y(e,a,r,n){if(e.$validationErrorElement&&(a.removeChild(e.$validationErrorElement),e.$validationErrorElement=null),!n.valid){var t=document.createElement("p");N(t,r.errorMessageStyle),t.innerHTML=n.message,e.$validationErrorElement=t,a.appendChild(t)}}return{require:["^form"],link:function(e,r,t,l){if(0!==l.length&&0!==r.length){r=r[0],l=l[0];var p=s(e,l,t),N=a(t,"validator");N=N?N:"";var L=n(r,t,l);i(e,L,N),L.$validators.validator=function(a,n){for(var t=a||n,s=u(e,N),i={validationCount:0,valid:!0,message:""},w=0;w<s.length;w++){var $=s[w];if($.enabled){var E=null;switch($.type){case"required":E=o(t,$.params);break;case"string":E=v(t,$.params);break;case"number":E=m(t,$.params);break;case"regex":E=c(t,$.params);break;case"email":E=f(t,$.params);break;case"url":E=d(t,$.params);break;case"equalto":E=g(t,$.params,l);break;case"custom":E=h(e,t,$.params)}E&&(i.validationCount+=1,i.valid=i.valid&E.valid,i.message+=i.message?"<br/>":"",i.message+=E.message)}}return L.$dirty&&(b(r,p,i),y(L,r,p,i)),!!i.valid}}}}})}();